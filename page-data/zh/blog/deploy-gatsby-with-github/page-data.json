{"componentChunkName":"component---src-templates-blog-index-tsx","path":"/zh/blog/deploy-gatsby-with-github","result":{"data":{"locales":{"edges":[{"node":{"ns":"tags","data":"{\"filter-tags\":\"用標籤/標題篩選文章\",\"javascript\":\"javascript\",\"note\":\"筆記\",\"gatsby\":\"gatsby\",\"typescript\":\"typescript\",\"series\":\"系列\",\"style\":\"樣式\",\"gsap\":\"gsap\",\"animation\":\"動畫\"}","language":"zh"}},{"node":{"ns":"frontpage","data":"{\"content\":\"２０２２這年，這個網站誕生了\\n因為想要有個地方紀錄自己的成長\\n於是開始製作這個部落格\\n這裡主要是紀錄學習筆記\\n以便日後有需要的話可以來回顧\\n裡面會放一些學習筆記與小作品\\n如果內容有什麼錯誤的\\n還望各位不吝指教\\n也歡迎留言分享與討論\\n希望大家逛得開心\\n👋 \",\"skip\":\"略過\",\"resume\":\"關於我\"}","language":"zh"}},{"node":{"ns":"index","data":"{\"about\":\"關於我\",\"change-log\":\"開發日誌\",\"comments\":\"評論\",\"home\":\"家\",\"blog\":\"文章\",\"project\":\"作品\",\"contact\":\"聯絡我\",\"contact-form-title\":\"歡迎留下任何你想說的話 🙏\",\"contact-form-name\":\"你的名稱\",\"contact-form-messages\":\"想說的話\",\"submit\":\"送出\",\"close\":\"關閉\",\"contact-form-success\":\"🎉 已成功送出 🎉\",\"contact-form-errors\":\"抱歉😿\\n好像有什麼出錯了\",\"found-nothing\":\"沒有找到文章...\",\"themeTitle\":\"主題模式\",\"dark\":\"深色\",\"light\":\"淺色\",\"languageTitle\":\"選擇語言\",\"zh\":\"中文\",\"en\":\"英文\",\"workInProgress\":\"努力產出中...\",\"image-source\":\"圖片來源 \",\"what\":\".dsadas..\"}","language":"zh"}}]},"blog":{"frontmatter":{"title":"部署吧！Gatsby","date":"2022-11-15T02:52:07.707Z","image_cover":"https://images.unsplash.com/photo-1614728263952-84ea256f9679?fit=crop&w=1000&q=80","img_source":null},"html":"<h2>準備部署</h2>\n<p>沒意外的話，大概是這個部落格系列文章的最後一篇了\n拖了一陣子沒產出\n最近剛好參加了六角的<a href=\"https://2022.thef2e.com/\">前端精神時光屋</a>\n所以忙了一陣子\n過陣子也會把有做出來的成品丟上來</p>\n<p>回到主題： 部署\n今天要分享的東西很簡單～\n已經做完了程式的部分\n現在就是要來把它發佈到網路上了</p>\n<p>現在有很多的服務可以使用\n像是 Netlify、heroku、vercel、github-page 都可以幫你完成輕鬆部署的工作\n我選用的是 github-page 來部署</p>\n<p>這個步驟我基本上是照著<a href=\"https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/how-gatsby-works-with-github-pages/\">官網的教學</a>一步一步來的\n官網提了三種作法</p>\n<ul>\n<li>可以在你 domain 下使用 path 的方式 <code>username.github.io/reponame/</code> （需要設定 pathPrefix</li>\n<li>也可以直接使用 subdomain， <code>username.github.io</code></li>\n<li>或者是使用客製化的 doamin</li>\n</ul>\n<p>我選的是直接使用 <code>username.github.io</code> subdomain 的方式</p>\n<ol>\n<li>安裝套件 <code>gh-pages</code></li>\n<li>新增一個 script 在 package.json</li>\n</ol>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"json\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// 要注意 GitHub Pages 好像需要 main 這個分支來作部署， 所以可能要保留這個分支名稱給GitHub Pages</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;scripts&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;deploy&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;gatsby build &amp;&amp; gh-pages -d public -b main&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span></code></pre>\n<ol start=\"3\">\n<li>執行 <code>npm run deploy</code></li>\n<li>到你的網頁裡面就看得到了！！！</li>\n</ol>\n<hr>\n<h3># 遇到的小問題 (關於 github remote)</h3>\n<p>我在這裡遇到的一個小問題是\n我在使用 git push/pull 指令的時候\n遇到了這個錯誤訊息</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">remote: Support for password authentication was removed on August 13, 2021.</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Please use a personal access token instead.</span></span></code></pre>\n<p>看起來原本的 remote 設定方式 沒辦法繼續的使用</p>\n<p>解決辦法是改使用 access token 的方式\n產出一個 token：\n在 github 頁面裡點擊自己的大頭貼 > 點選 Setting\n進到設定頁面後 左方側欄 > 點選 Developer Settings\n左邊側欄有個 Personal access tokens 選項 > 選擇 Tokens(classic)\n點選右上角 Generate New Token(classic)\n把這個 token 複製起來\n然後到專案裡 cmd 把原本的 git remote 改指向 <code>https://&#x3C;tokenhere>@github.com/&#x3C;user>/&#x3C;repo>.git</code></p>\n<p>我是這樣子使用的：</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">git remote set-url origin https://&lt;tokenhere&gt;@github.com/&lt;user&gt;/&lt;repo&gt;.git</span></span></code></pre>\n<p>然後就可以正常的使用 pull/push 到 github 上了</p>\n<p>以上是今天的分享 👋</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"}},"pageContext":{"language":"zh","name":"deploy-gatsby-with-github","i18n":{"language":"zh","languages":["en","zh"],"defaultLanguage":"en","generateDefaultLanguagePage":false,"routed":true,"originalPath":"/blog/deploy-gatsby-with-github","path":"zh/blog/deploy-gatsby-with-github"}}},"staticQueryHashes":["3764592887"]}