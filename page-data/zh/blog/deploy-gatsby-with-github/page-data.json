{"componentChunkName":"component---src-templates-blog-index-tsx","path":"/zh/blog/deploy-gatsby-with-github","result":{"data":{"locales":{"edges":[{"node":{"ns":"tags","data":"{\"filter-tags\":\"ç”¨æ¨™ç±¤/æ¨™é¡Œç¯©é¸æ–‡ç« \",\"javascript\":\"javascript\",\"note\":\"ç­†è¨˜\",\"gatsby\":\"gatsby\",\"typescript\":\"typescript\",\"series\":\"ç³»åˆ—\",\"style\":\"æ¨£å¼\",\"gsap\":\"gsap\",\"animation\":\"å‹•ç•«\"}","language":"zh"}},{"node":{"ns":"frontpage","data":"{\"content\":\"ï¼’ï¼ï¼’ï¼’é€™å¹´ï¼Œé€™å€‹ç¶²ç«™èª•ç”Ÿäº†\\nå› ç‚ºæƒ³è¦æœ‰å€‹åœ°æ–¹ç´€éŒ„è‡ªå·±çš„æˆé•·\\næ–¼æ˜¯é–‹å§‹è£½ä½œé€™å€‹éƒ¨è½æ ¼\\né€™è£¡ä¸»è¦æ˜¯ç´€éŒ„å­¸ç¿’ç­†è¨˜\\nä»¥ä¾¿æ—¥å¾Œæœ‰éœ€è¦çš„è©±å¯ä»¥ä¾†å›é¡§\\nè£¡é¢æœƒæ”¾ä¸€äº›å­¸ç¿’ç­†è¨˜èˆ‡å°ä½œå“\\nå¦‚æœå…§å®¹æœ‰ä»€éº¼éŒ¯èª¤çš„\\né‚„æœ›å„ä½ä¸åæŒ‡æ•™\\nä¹Ÿæ­¡è¿ç•™è¨€åˆ†äº«èˆ‡è¨è«–\\nå¸Œæœ›å¤§å®¶é€›å¾—é–‹å¿ƒ\\nğŸ‘‹ \",\"skip\":\"ç•¥é\",\"resume\":\"é—œæ–¼æˆ‘\"}","language":"zh"}},{"node":{"ns":"index","data":"{\"about\":\"é—œæ–¼æˆ‘\",\"change-log\":\"é–‹ç™¼æ—¥èªŒ\",\"comments\":\"è©•è«–\",\"home\":\"å®¶\",\"blog\":\"æ–‡ç« \",\"project\":\"ä½œå“\",\"contact\":\"è¯çµ¡æˆ‘\",\"contact-form-title\":\"æ­¡è¿ç•™ä¸‹ä»»ä½•ä½ æƒ³èªªçš„è©± ğŸ™\",\"contact-form-name\":\"ä½ çš„åç¨±\",\"contact-form-messages\":\"æƒ³èªªçš„è©±\",\"submit\":\"é€å‡º\",\"close\":\"é—œé–‰\",\"contact-form-success\":\"ğŸ‰ å·²æˆåŠŸé€å‡º ğŸ‰\",\"contact-form-errors\":\"æŠ±æ­‰ğŸ˜¿\\nå¥½åƒæœ‰ä»€éº¼å‡ºéŒ¯äº†\",\"found-nothing\":\"æ²’æœ‰æ‰¾åˆ°æ–‡ç« ...\",\"themeTitle\":\"ä¸»é¡Œæ¨¡å¼\",\"dark\":\"æ·±è‰²\",\"light\":\"æ·ºè‰²\",\"languageTitle\":\"é¸æ“‡èªè¨€\",\"zh\":\"ä¸­æ–‡\",\"en\":\"è‹±æ–‡\",\"workInProgress\":\"åŠªåŠ›ç”¢å‡ºä¸­...\",\"image-source\":\"åœ–ç‰‡ä¾†æº \",\"what\":\".dsadas..\"}","language":"zh"}}]},"blog":{"frontmatter":{"title":"éƒ¨ç½²å§ï¼Gatsby","date":"2022-11-15T02:52:07.707Z","image_cover":"https://images.unsplash.com/photo-1614728263952-84ea256f9679?fit=crop&w=1000&q=80","img_source":null},"html":"<h2>æº–å‚™éƒ¨ç½²</h2>\n<p>æ²’æ„å¤–çš„è©±ï¼Œå¤§æ¦‚æ˜¯é€™å€‹éƒ¨è½æ ¼ç³»åˆ—æ–‡ç« çš„æœ€å¾Œä¸€ç¯‡äº†\næ‹–äº†ä¸€é™£å­æ²’ç”¢å‡º\næœ€è¿‘å‰›å¥½åƒåŠ äº†å…­è§’çš„<a href=\"https://2022.thef2e.com/\">å‰ç«¯ç²¾ç¥æ™‚å…‰å±‹</a>\næ‰€ä»¥å¿™äº†ä¸€é™£å­\néé™£å­ä¹ŸæœƒæŠŠæœ‰åšå‡ºä¾†çš„æˆå“ä¸Ÿä¸Šä¾†</p>\n<p>å›åˆ°ä¸»é¡Œï¼š éƒ¨ç½²\nä»Šå¤©è¦åˆ†äº«çš„æ±è¥¿å¾ˆç°¡å–®ï½\nå·²ç¶“åšå®Œäº†ç¨‹å¼çš„éƒ¨åˆ†\nç¾åœ¨å°±æ˜¯è¦ä¾†æŠŠå®ƒç™¼ä½ˆåˆ°ç¶²è·¯ä¸Šäº†</p>\n<p>ç¾åœ¨æœ‰å¾ˆå¤šçš„æœå‹™å¯ä»¥ä½¿ç”¨\nåƒæ˜¯ Netlifyã€herokuã€vercelã€github-page éƒ½å¯ä»¥å¹«ä½ å®Œæˆè¼•é¬†éƒ¨ç½²çš„å·¥ä½œ\næˆ‘é¸ç”¨çš„æ˜¯ github-page ä¾†éƒ¨ç½²</p>\n<p>é€™å€‹æ­¥é©Ÿæˆ‘åŸºæœ¬ä¸Šæ˜¯ç…§è‘—<a href=\"https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/how-gatsby-works-with-github-pages/\">å®˜ç¶²çš„æ•™å­¸</a>ä¸€æ­¥ä¸€æ­¥ä¾†çš„\nå®˜ç¶²æäº†ä¸‰ç¨®ä½œæ³•</p>\n<ul>\n<li>å¯ä»¥åœ¨ä½  domain ä¸‹ä½¿ç”¨ path çš„æ–¹å¼ <code>username.github.io/reponame/</code> ï¼ˆéœ€è¦è¨­å®š pathPrefix</li>\n<li>ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ subdomainï¼Œ <code>username.github.io</code></li>\n<li>æˆ–è€…æ˜¯ä½¿ç”¨å®¢è£½åŒ–çš„ doamin</li>\n</ul>\n<p>æˆ‘é¸çš„æ˜¯ç›´æ¥ä½¿ç”¨ <code>username.github.io</code> subdomain çš„æ–¹å¼</p>\n<ol>\n<li>å®‰è£å¥—ä»¶ <code>gh-pages</code></li>\n<li>æ–°å¢ä¸€å€‹ script åœ¨ package.json</li>\n</ol>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"json\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// è¦æ³¨æ„ GitHub Pages å¥½åƒéœ€è¦ main é€™å€‹åˆ†æ”¯ä¾†ä½œéƒ¨ç½²ï¼Œ æ‰€ä»¥å¯èƒ½è¦ä¿ç•™é€™å€‹åˆ†æ”¯åç¨±çµ¦GitHub Pages</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk8\">&quot;scripts&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;deploy&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;gatsby build &amp;&amp; gh-pages -d public -b main&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span></code></pre>\n<ol start=\"3\">\n<li>åŸ·è¡Œ <code>npm run deploy</code></li>\n<li>åˆ°ä½ çš„ç¶²é è£¡é¢å°±çœ‹å¾—åˆ°äº†ï¼ï¼ï¼</li>\n</ol>\n<hr>\n<h3># é‡åˆ°çš„å°å•é¡Œ (é—œæ–¼ github remote)</h3>\n<p>æˆ‘åœ¨é€™è£¡é‡åˆ°çš„ä¸€å€‹å°å•é¡Œæ˜¯\næˆ‘åœ¨ä½¿ç”¨ git push/pull æŒ‡ä»¤çš„æ™‚å€™\né‡åˆ°äº†é€™å€‹éŒ¯èª¤è¨Šæ¯</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">remote: Support for password authentication was removed on August 13, 2021.</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Please use a personal access token instead.</span></span></code></pre>\n<p>çœ‹èµ·ä¾†åŸæœ¬çš„ remote è¨­å®šæ–¹å¼ æ²’è¾¦æ³•ç¹¼çºŒçš„ä½¿ç”¨</p>\n<p>è§£æ±ºè¾¦æ³•æ˜¯æ”¹ä½¿ç”¨ access token çš„æ–¹å¼\nç”¢å‡ºä¸€å€‹ tokenï¼š\nåœ¨ github é é¢è£¡é»æ“Šè‡ªå·±çš„å¤§é ­è²¼ > é»é¸ Setting\né€²åˆ°è¨­å®šé é¢å¾Œ å·¦æ–¹å´æ¬„ > é»é¸ Developer Settings\nå·¦é‚Šå´æ¬„æœ‰å€‹ Personal access tokens é¸é … > é¸æ“‡ Tokens(classic)\né»é¸å³ä¸Šè§’ Generate New Token(classic)\næŠŠé€™å€‹ token è¤‡è£½èµ·ä¾†\nç„¶å¾Œåˆ°å°ˆæ¡ˆè£¡ cmd æŠŠåŸæœ¬çš„ git remote æ”¹æŒ‡å‘ <code>https://&#x3C;tokenhere>@github.com/&#x3C;user>/&#x3C;repo>.git</code></p>\n<p>æˆ‘æ˜¯é€™æ¨£å­ä½¿ç”¨çš„ï¼š</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">git remote set-url origin https://&lt;tokenhere&gt;@github.com/&lt;user&gt;/&lt;repo&gt;.git</span></span></code></pre>\n<p>ç„¶å¾Œå°±å¯ä»¥æ­£å¸¸çš„ä½¿ç”¨ pull/push åˆ° github ä¸Šäº†</p>\n<p>ä»¥ä¸Šæ˜¯ä»Šå¤©çš„åˆ†äº« ğŸ‘‹</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"}},"pageContext":{"language":"zh","name":"deploy-gatsby-with-github","i18n":{"language":"zh","languages":["en","zh"],"defaultLanguage":"en","generateDefaultLanguagePage":false,"routed":true,"originalPath":"/blog/deploy-gatsby-with-github","path":"zh/blog/deploy-gatsby-with-github"}}},"staticQueryHashes":["3764592887"]}