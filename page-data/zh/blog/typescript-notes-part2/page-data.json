{"componentChunkName":"component---src-templates-blog-index-tsx","path":"/zh/blog/typescript-notes-part2","result":{"data":{"locales":{"edges":[{"node":{"ns":"frontpage","data":"{\"content\":\"２０２２這年，這個網站誕生了\\n因為想要有個地方紀錄自己的成長\\n於是開始製作這個部落格\\n這裡主要是紀錄學習筆記\\n以便日後有需要的話可以來回顧\\n裡面會放一些學習筆記與小作品\\n如果內容有什麼錯誤的\\n還望各位不吝指教\\n也歡迎留言分享與討論\\n希望大家逛得開心\\n👋 \",\"skip\":\"略過\",\"resume\":\"關於我\"}","language":"zh"}},{"node":{"ns":"index","data":"{\"about\":\"關於我\",\"change-log\":\"開發日誌\",\"comments\":\"評論\",\"home\":\"家\",\"blog\":\"文章\",\"project\":\"作品\",\"contact\":\"聯絡我\",\"contact-form-title\":\"歡迎留下任何你想說的話 🙏\",\"contact-form-name\":\"你的名稱\",\"contact-form-messages\":\"想說的話\",\"submit\":\"送出\",\"close\":\"關閉\",\"contact-form-success\":\"🎉 已成功送出 🎉\",\"contact-form-errors\":\"抱歉😿\\n好像有什麼出錯了\",\"found-nothing\":\"沒有找到文章...\",\"themeTitle\":\"主題模式\",\"dark\":\"深色\",\"light\":\"淺色\",\"languageTitle\":\"選擇語言\",\"zh\":\"中文\",\"en\":\"英文\",\"workInProgress\":\"努力產出中...\",\"image-source\":\"圖片來源 \",\"what\":\".dsadas..\"}","language":"zh"}},{"node":{"ns":"tags","data":"{\"filter-tags\":\"用標籤/標題篩選文章\",\"javascript\":\"javascript\",\"note\":\"筆記\",\"gatsby\":\"gatsby\",\"typescript\":\"typescript\",\"series\":\"系列\",\"style\":\"樣式\",\"gsap\":\"gsap\",\"animation\":\"動畫\"}","language":"zh"}}]},"blog":{"frontmatter":{"title":"Typescript 學習筆記 Part2","date":"2022-11-29T07:54:11.750Z","image_cover":"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Typescript_logo_2020.svg/1200px-Typescript_logo_2020.svg.png","img_source":"google"},"html":"<h2>Typescript 筆記 Part 2</h2>\n<p>如果需要回顧上一次的筆記，來<a href=\"/zh/blog/typescript-notes-part1\">這裡</a>\n接著就繼續後面的部分</p>\n<h3>Functions 函式</h3>\n<ul>\n<li>callable types（可呼叫的型別）</li>\n</ul>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 型別別名:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">type</span><span class=\"mtk1\"> </span><span class=\"mtk10\">CallTypes</span><span class=\"mtk1\"> = (</span><span class=\"mtk12\">a</span><span class=\"mtk1\">: </span><span class=\"mtk10\">number</span><span class=\"mtk1\">, </span><span class=\"mtk12\">b</span><span class=\"mtk1\">: </span><span class=\"mtk10\">number</span><span class=\"mtk1\">) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk10\">number</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 型別介面:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk10\">CallTypes</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  (</span><span class=\"mtk12\">a</span><span class=\"mtk1\">: </span><span class=\"mtk10\">number</span><span class=\"mtk1\">, </span><span class=\"mtk12\">b</span><span class=\"mtk1\">: </span><span class=\"mtk10\">number</span><span class=\"mtk1\">): </span><span class=\"mtk10\">number</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>如果函式沒有回傳值， 型別會是 <strong>void</strong></p>\n<h3>Function overloads 函式超載</h3>\n<p>這部分是 js 沒有的\n我們有時候會在同一個 function 裡放入不同數量的參數\n舉例：</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// overloads signature</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 定義函式型別的部分</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">transformDate</span><span class=\"mtk1\">(</span><span class=\"mtk12\">timestamp</span><span class=\"mtk1\">: </span><span class=\"mtk10\">number</span><span class=\"mtk1\">): </span><span class=\"mtk10\">Date</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">transformDate</span><span class=\"mtk1\">(</span><span class=\"mtk12\">y</span><span class=\"mtk1\">:</span><span class=\"mtk10\">number</span><span class=\"mtk1\">, </span><span class=\"mtk12\">m</span><span class=\"mtk1\">:</span><span class=\"mtk10\">number</span><span class=\"mtk1\">, </span><span class=\"mtk12\">d</span><span class=\"mtk1\">: </span><span class=\"mtk10\">number</span><span class=\"mtk1\">): </span><span class=\"mtk10\">Date</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// implementation signature</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 執行函式的時候的部分</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">transformDate</span><span class=\"mtk1\">(</span><span class=\"mtk12\">timestampOrYear</span><span class=\"mtk1\">: </span><span class=\"mtk10\">number</span><span class=\"mtk1\">, </span><span class=\"mtk12\">m</span><span class=\"mtk1\">?:</span><span class=\"mtk10\">number</span><span class=\"mtk1\">, </span><span class=\"mtk12\">d</span><span class=\"mtk1\">?:</span><span class=\"mtk10\">number</span><span class=\"mtk1\">): </span><span class=\"mtk10\">Date</span><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">if</span><span class=\"mtk1\">(!</span><span class=\"mtk12\">m</span><span class=\"mtk1\"> &amp;&amp; !</span><span class=\"mtk12\">d</span><span class=\"mtk1\">){</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Date</span><span class=\"mtk1\">(</span><span class=\"mtk12\">timestampOrYear</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span><span class=\"mtk15\">else</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Date</span><span class=\"mtk1\">(</span><span class=\"mtk12\">timestampOrYear</span><span class=\"mtk1\">,</span><span class=\"mtk12\">y</span><span class=\"mtk1\">,</span><span class=\"mtk12\">d</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 如果你這樣做的話</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">transform</span><span class=\"mtk1\">(</span><span class=\"mtk7\">2022</span><span class=\"mtk1\">,</span><span class=\"mtk7\">12</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 會得到一個錯誤訊息： function accept 1 or 3 parameters</span></span></span></code></pre>\n<div class=\"separate_line\">...</div>\n<h3>Classes 類別</h3>\n<p>Access modifier keywords 存取修飾詞</p>\n<ul>\n<li>public (預設) 公開的，代表內外部/子類別都可以使用</li>\n<li>protected (受保護的 只能接受本身及子類別的內部使用）</li>\n<li>private (私人的 只接受本身內部使用，也可以用\"#\"作為前綴詞）</li>\n</ul>\n<div class=\"separate_line\">...</div>\n<h3>Top and bottom types</h3>\n<ul>\n<li>top type\n代表可以接受所有值的類別： <strong>any</strong> | <strong>unknown</strong>\nany possible value that allowed by system: <strong>any</strong> | <strong>unknown</strong></li>\n</ul>\n<p><strong>any</strong> 與 <strong>unknown</strong> 的差異:\nunknown 不能在沒有型別判斷(type guard) 的情況下使用</p>\n<ul>\n<li>bottom type\n代表不能接受所有值的類別： <strong>never</strong></li>\n</ul>\n<div class=\"separate_line\">...</div>\n<h3>type guards and narrowing</h3>\n<p>基本型別判斷的方式： <strong>typeof</strong>, <strong>instanceof</strong></p>\n<h3>Nullish values</h3>\n<ul>\n<li>\n<p>null :\n他有一個值，而這個值代表\"沒有\"</p>\n</li>\n<li>\n<p>undefined :\n這個值還不能夠被使用（變數還沒被賦值）</p>\n</li>\n<li>\n<p>void :\n代表函式沒有回傳值</p>\n</li>\n</ul>\n<div class=\"separate_line\">...</div>\n<h3>Generics 泛型</h3>\n<p>泛型，讓我們可以針對型別參數化，做出重複使用的型別\n通常會用<T>來當作型別的參數</p>\n<p>用法:</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 一般的函式</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">wrapInArray</span><span class=\"mtk1\">(</span><span class=\"mtk12\">arg</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">): </span><span class=\"mtk10\">string</span><span class=\"mtk1\">[] {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> [</span><span class=\"mtk12\">arg</span><span class=\"mtk1\">];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 使用泛型</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">wrapInArray</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt;(</span><span class=\"mtk12\">arg</span><span class=\"mtk1\">: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">): </span><span class=\"mtk10\">T</span><span class=\"mtk1\">[] {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> [</span><span class=\"mtk12\">arg</span><span class=\"mtk1\">];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>可以點擊右下角的 Try 來試試這個<a href=\"https://www.typescript-training.com/course/fundamentals-v3/15-dict-map-filter-reduce/\">小測驗</a></p>\n<h3>Generic Constraints 泛型的限制</h3>\n<p>我們有時候會用一些限制來控制丟進來的型別種類，以確保得到想要的結果\n使用 \"extends\" 來做限制</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk10\">HasId</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">id</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">listToDict</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\"> </span><span class=\"mtk4\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk10\">HasId</span><span class=\"mtk1\">&gt;(</span><span class=\"mtk12\">list</span><span class=\"mtk1\">: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">[]): </span><span class=\"mtk10\">Dict</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt; {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">dict</span><span class=\"mtk1\">: </span><span class=\"mtk10\">Dict</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt; = {};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">list</span><span class=\"mtk1\">.</span><span class=\"mtk11\">forEach</span><span class=\"mtk1\">((</span><span class=\"mtk12\">item</span><span class=\"mtk1\">) </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">dict</span><span class=\"mtk1\">[</span><span class=\"mtk12\">item</span><span class=\"mtk1\">.</span><span class=\"mtk12\">id</span><span class=\"mtk1\">] = </span><span class=\"mtk12\">item</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">dict</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// T extends HasId 讓我們可以確定 T 這個型別裡面，至少會包含 HasId 這個型別</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<p>結論:\nTS 真的是可以讓你提早知道哪裡可能會有出錯的狀況\n不過，我覺得學習難度滿高的， 例如 \"泛型\"\n但我覺得是很值得學習的東西\n所以我會繼續努力的 💪\n以上只是我目前的一些小筆記\n如果有任何錯誤或是不太清楚的請多包涵\n（不過有些詞要翻成中文還真的有點困難 🤕 繼續努力）</p>\n<p>以上是今天的分享 👋</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"}},"pageContext":{"language":"zh","name":"typescript-notes-part2","i18n":{"language":"zh","languages":["en","zh"],"defaultLanguage":"en","generateDefaultLanguagePage":false,"routed":true,"originalPath":"/blog/typescript-notes-part2","path":"zh/blog/typescript-notes-part2"}}},"staticQueryHashes":["3764592887"]}