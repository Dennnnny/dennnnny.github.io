{"componentChunkName":"component---src-templates-blog-index-tsx","path":"/zh/blog/animation-with-gsap","result":{"data":{"locales":{"edges":[{"node":{"ns":"index","data":"{\"about\":\"關於我\",\"change-log\":\"開發日誌\",\"comments\":\"評論\",\"home\":\"家\",\"blog\":\"文章\",\"project\":\"作品\",\"contact\":\"聯絡我\",\"contact-form-title\":\"歡迎留下任何你想說的話 🙏\",\"contact-form-name\":\"你的名稱\",\"contact-form-messages\":\"想說的話\",\"submit\":\"送出\",\"close\":\"關閉\",\"contact-form-success\":\"🎉 已成功送出 🎉\",\"contact-form-errors\":\"抱歉😿\\n好像有什麼出錯了\",\"found-nothing\":\"沒有找到文章...\",\"themeTitle\":\"主題模式\",\"dark\":\"深色\",\"light\":\"淺色\",\"languageTitle\":\"選擇語言\",\"zh\":\"中文\",\"en\":\"英文\",\"workInProgress\":\"努力產出中...\",\"image-source\":\"圖片來源 \",\"what\":\".dsadas..\"}","language":"zh"}},{"node":{"ns":"tags","data":"{\"filter-tags\":\"用標籤/標題篩選文章\",\"javascript\":\"javascript\",\"note\":\"筆記\",\"gatsby\":\"gatsby\",\"typescript\":\"typescript\",\"series\":\"系列\",\"style\":\"樣式\",\"gsap\":\"gsap\",\"animation\":\"動畫\"}","language":"zh"}},{"node":{"ns":"frontpage","data":"{\"content\":\"２０２２這年，這個網站誕生了\\n因為想要有個地方紀錄自己的成長\\n於是開始製作這個部落格\\n這裡主要是紀錄學習筆記\\n以便日後有需要的話可以來回顧\\n裡面會放一些學習筆記與小作品\\n如果內容有什麼錯誤的\\n還望各位不吝指教\\n也歡迎留言分享與討論\\n希望大家逛得開心\\n👋 \",\"skip\":\"略過\",\"resume\":\"關於我\"}","language":"zh"}}]},"blog":{"frontmatter":{"title":"用 GSAP 做動畫","date":"2022-11-20T16:20:23.422Z","image_cover":"https://images.unsplash.com/photo-1594908900066-3f47337549d8?fit=crop&w=1000&q=80","img_source":null},"html":"<h2>讓網頁動起來</h2>\n<p>今天要來說說網頁動畫<br>\n雖然我也不能算是很懂<br>\n可能也說不太明白<br>\n所以來介紹一下這個套件<br>\n以及附上前陣子做的範例</p>\n<p>先上範例： <a href=\"https://4th-f2e-week1.vercel.app/\">精神時光屋作品</a><br>\n目前只有做了手機版本， 所以用手機看才有最好的觀看品質<br>\n看了許多強者的作品後自歎不如<br>\n好多好厲害的人 😿</p>\n<p>擦乾眼淚之後<br>\n我還是來分享一下 我是怎麼使用這個套件的～</p>\n<p>參考套件 <a href=\"https://greensock.com/docs/\">GSAP</a><br>\n這次主要使用的是 ScrollTrigger 這個插件<br>\n除了滑動效果以外<br>\n他還有強大的 Tween 跟 Timeline<br>\n可以在<a href=\"https://greensock.com/docs/\">文件</a>裡面找到這些功能的使用方式<br>\n這個套件實在是很厲害</p>\n<p>滿簡單可以使用的<br>\n需要讓他知道 你想動起來的物件是哪一個</p>\n<details>\n<summary>範例如下</summary>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">element</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">document</span><span class=\"mtk1\">.</span><span class=\"mtk11\">querySelector</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;.animated-box&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">gsap</span><span class=\"mtk1\">.</span><span class=\"mtk11\">from</span><span class=\"mtk1\">(</span><span class=\"mtk12\">element</span><span class=\"mtk1\">, { </span><span class=\"mtk12\">opacity:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">0</span><span class=\"mtk1\">, </span><span class=\"mtk12\">x:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">100</span><span class=\"mtk1\"> });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 讓這個 .animated-box 元件， 從(from) 透明度0 水平位置 100</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 移動回到 x =0, opacity =1 的階段</span></span></span></code></pre>\n</details>\n<p>可以在使用 from/to/fromTo 來設定動畫的開始狀態與結束狀態<br>\n而這次我基本上只有使用到最最簡單的功能</p>\n<p>我先測試了一下 使用方式<br>\n範例差不多如下的 codepen\n可以進去裡面 調整看看各個參數 看動畫會有什麼變化！</p>\n<iframe height=\"500\" style=\"width: 100%;\" scrolling=\"no\" title=\"Gsap With Scroll Trigger\" src=\"https://codepen.io/dennnnny/embed/abKVBjG?default-tab=html%2Cresult\" frameborder=\"no\" loading=\"lazy\" allowtransparency=\"true\" allowfullscreen=\"true\">\n  See the Pen <a href=\"https://codepen.io/dennnnny/pen/abKVBjG\">\n  Gsap With Scroll Trigger</a> by Denny Chang (<a href=\"https://codepen.io/dennnnny\">@dennnnny</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.\n</iframe>\n<p>scrollTrigger 參數介紹：</p>\n<ul>\n<li>\n<p>scrub: boolean/number\n動畫需要多久時間跟上滑動距離\n如果是 boolean(true) 的話代表，動畫 = 滑動距離<br>\n所以向上滑動 動畫就會倒著動</p>\n</li>\n<li>\n<p>trigger 滾動的基準物件</p>\n</li>\n<li>\n<p>start 兩個詞組成 如：\"top center\"\n第一個詞代表 動畫會開始動起來的位置(當基準線碰到這裡的時候)\n第二個時是基準線的位置</p>\n</li>\n<li>\n<p>end (基本上與上面相同)</p>\n</li>\n</ul>\n<p>可以在<a href=\"https://greensock.com/docs/v3/Plugins/ScrollTrigger\">這邊</a>找到更多詳細的說明</p>\n<p>如果要在 next 或是 react 這類的框架下使用的話<br>\n需要把這個套件用在 useEffect 裡面<br>\n除此之外 就是大同小異了</p>\n<details>\n<summary>React 範例如下</summary>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 父元件內</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">gsap</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;gsap&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">ScrollTrigger</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;gsap/dist/ScrollTrigger&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">container</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">useRef</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">gsap</span><span class=\"mtk1\">.</span><span class=\"mtk11\">registerPlugin</span><span class=\"mtk1\">(</span><span class=\"mtk12\">ScrollTrigger</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">useEffect</span><span class=\"mtk1\">(() </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">element</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">container</span><span class=\"mtk1\">.</span><span class=\"mtk12\">current</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">gsap</span><span class=\"mtk1\">.</span><span class=\"mtk11\">fromTo</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">element</span><span class=\"mtk1\">.</span><span class=\"mtk11\">querySelector</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;.target_element&quot;</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    { </span><span class=\"mtk12\">opacity:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">0</span><span class=\"mtk1\">, </span><span class=\"mtk12\">y:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">10</span><span class=\"mtk1\"> },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">opacity:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">1</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">y:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">0</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">scrollTrigger:</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">trigger:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">element</span><span class=\"mtk1\">.</span><span class=\"mtk11\">querySelector</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;.first&quot;</span><span class=\"mtk1\">), </span><span class=\"mtk3\">// 這邊是滑動的觸發元件</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">start:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;top center&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">end:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;bottom center&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}, []);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">/*</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">滑動的觸發元件 就是有點像以這個元件為參考點 去繪製滑動動畫的起始/結束點</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">*/</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">ref</span><span class=\"mtk1\">=</span><span class=\"mtk4\">{</span><span class=\"mtk12\">container</span><span class=\"mtk4\">}</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">/* 這裡面放子元件們 */</span><span class=\"mtk17\">&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 我把container 放在 最外層的元件裡 作為ref</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 子原件裡</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 我把container.current當作prop : element傳進來</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Child</span><span class=\"mtk1\">({ </span><span class=\"mtk12\">element</span><span class=\"mtk1\"> }) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">useEffect</span><span class=\"mtk1\">(() </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">gsap</span><span class=\"mtk1\">.</span><span class=\"mtk11\">fromTo</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">element</span><span class=\"mtk1\">.</span><span class=\"mtk11\">querySelector</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;.animate&quot;</span><span class=\"mtk1\">) </span><span class=\"mtk3\">// select which element you want to add animation</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\">//...animation</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }, []);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk17\">&lt;</span><span class=\"mtk4\">div</span><span class=\"mtk1\"> </span><span class=\"mtk12\">className</span><span class=\"mtk1\">=</span><span class=\"mtk8\">&quot;animate&quot;</span><span class=\"mtk17\">&gt;&lt;/</span><span class=\"mtk4\">div</span><span class=\"mtk17\">&gt;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n</details>\n<p>這次的範例 實作起來沒有我想像中的那麼難<br>\n不過其實有很多感覺很好用的功能 也沒用上<br>\n目前還僅有 手機版<br>\n應該找個有空的日子 把桌機版完成</p>\n<p>上面的範例 也許使用的也不是很好<br>\n或者有更好的用法<br>\n不過是我第一次接觸這個套件後 找出來的方式<br>\n所以留下這篇筆記<br>\n之後等到作品有更新 或者我發現了新的寫法的話<br>\n也會一併的更新的！</p>\n<p>覺得網頁的動畫很有趣 ～<br>\n以上是今天的分享 👋</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .mtk17 { color: #808080; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"}},"pageContext":{"language":"zh","name":"animation-with-gsap","i18n":{"language":"zh","languages":["en","zh"],"defaultLanguage":"en","generateDefaultLanguagePage":false,"routed":true,"originalPath":"/blog/animation-with-gsap","path":"zh/blog/animation-with-gsap"}}},"staticQueryHashes":["3764592887"]}