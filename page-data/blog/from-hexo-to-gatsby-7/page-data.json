{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-path-tsx","path":"/blog/from-hexo-to-gatsby-7/","result":{"data":{"markdownRemark":{"html":"<h1>\\ hygen 小工具 /</h1>\n<p>今天是要來提一個小工具<br>\n我覺得在產元件的時候很方便</p>\n<p>有時候會覺得每次都要在新增一個元件後<br>\n再新增一個 storybook 檔<br>\n也許還有 test 檔<br>\n座一個元件 就要多做兩三個元件<br>\n多做幾個 就要多做幾倍的元件 ＱＱ<br>\n真是麻煩～</p>\n<p>這時候如果有工具可以讓我在做一個元件的同時<br>\n幫我把另外的元件也產出來的話<br>\n那該有多好～～～</p>\n<p>然後我就無意間發現了 hygen 這個工具<br>\n他可以用下指令的方式 產出一個元件<br>\n然後！ 你可以客製化的把另外想要的元件也產出～～</p>\n<p>花了一點時間 去寫他的設定檔<br>\n以下是分享</p>\n<h2>hygen 的使用</h2>\n<p>我都是用 <code>npx hygen new components --name Component</code> 的方式使用他的<br>\n首先在 root 資料夾裡 放一個.hygen.js 檔案 裡面是要告訴 hygen 指令 要去哪邊找模板</p>\n<pre class=\"grvsc-container abyss\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// .hygen.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15 mtki\">module</span><span class=\"mtk1\">.</span><span class=\"mtk15 mtki\">exports</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  templates: </span><span class=\"mtk11\">`${</span><span class=\"mtk1\">__dirname</span><span class=\"mtk11\">}/.hygen`</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span></code></pre>\n<p>接著在 root 資料夾裡 放一個叫做 .hygen 的資料夾<br>\n底下再放一個 new/ 的資料夾 => 作為我產生元件時要下的指令時，他會去找這個資料夾底下的設定<br>\n/new 底下我會再放分類的資料夾 => 作為這次要產出什麼樣的檔案的分類， 例如: .md 檔 or .js 檔\n以元件為例：\n在/component 資料夾裡放一個 index.js.ejs.t 的檔案</p>\n<pre class=\"grvsc-container abyss\" data-language=\"js\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// index.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15 mtki\">module</span><span class=\"mtk1\">.</span><span class=\"mtk15 mtki\">exports</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk6\">prompt</span><span class=\"mtk1\">: ({ </span><span class=\"mtk19 mtki\">inquirer</span><span class=\"mtk1\"> }) </span><span class=\"mtk15 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15 mtki\">const</span><span class=\"mtk1\"> questions </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        type: </span><span class=\"mtk11\">&quot;input&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        name: </span><span class=\"mtk11\">&quot;path&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        message: </span><span class=\"mtk11\">&quot;What is the path of the Component?&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">return</span><span class=\"mtk1\"> inquirer.</span><span class=\"mtk6\">prompt</span><span class=\"mtk1\">(questions).</span><span class=\"mtk6\">then</span><span class=\"mtk1\">((</span><span class=\"mtk19 mtki\">answers</span><span class=\"mtk1\">) </span><span class=\"mtk15 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk15 mtki\">const</span><span class=\"mtk1\"> { path } </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> answers;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk15 mtki\">const</span><span class=\"mtk1\"> absPath </span><span class=\"mtk7\">=</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        path.length </span><span class=\"mtk7\">===</span><span class=\"mtk1\"> </span><span class=\"mtk4\">0</span><span class=\"mtk1\"> </span><span class=\"mtk7\">?</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&quot;src/components&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">:</span><span class=\"mtk1\"> </span><span class=\"mtk11\">`src/components/${</span><span class=\"mtk1\">path</span><span class=\"mtk11\">}`</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7\">return</span><span class=\"mtk1\"> { </span><span class=\"mtk7\">...</span><span class=\"mtk1\">answers, absPath, path };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// index.js.ejs.t</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">---</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">to: </span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> absPath </span><span class=\"mtk7\">%&gt;/&lt;%=</span><span class=\"mtk1\"> name </span><span class=\"mtk7\">%&gt;/</span><span class=\"mtk1\">index.tsx</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">---</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">*</span><span class=\"mtk1\"> </span><span class=\"mtk7\">as</span><span class=\"mtk1\"> React </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&quot;react&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> { Link } </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&quot;gatsby&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> styled </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&quot;styled-components&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15 mtki\">const</span><span class=\"mtk1\"> Layout </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> styled.div.</span><span class=\"mtk6\">withConfig</span><span class=\"mtk1\">({ componentId: </span><span class=\"mtk11\">&quot;&lt;%= name %&gt;_Layout&quot;</span><span class=\"mtk1\"> })</span><span class=\"mtk11\">``</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">type </span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> name </span><span class=\"mtk7\">%&gt;</span><span class=\"mtk1\">PropTypes </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk7\">default</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtki\">function</span><span class=\"mtk1\"> &lt;%</span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">name</span><span class=\"mtk1\"> %&gt;(</span><span class=\"mtk6\">props</span><span class=\"mtk7\">:</span><span class=\"mtk1\">&lt;%</span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">name</span><span class=\"mtk1\"> %&gt;</span><span class=\"mtk5 mtku\">PropTypes</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">return</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk15 mtki\">Layout</span><span class=\"mtk1\">&gt;&lt;/</span><span class=\"mtk15 mtki\">Layout</span><span class=\"mtk1\">&gt;;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>其中 index.js 檔 會在下完指令後 在 cmd 裡面變成一條問句\n<code>What is the path of the Component?</code><br>\n然後 輸入的答案會變成 path 這個變數的值<br>\n最後我把它組成 absPath 傳出去<br>\n就會變成 &#x3C;%= absPath %> 這樣子的變數可以使用<br>\n在 index.js.ejs.t 這個檔案裡面<br>\n可以先把你通常會用的元件內容 做一個模板出來<br>\n例如我上面的範例 是用來做一個 React 的模板</p>\n<p>接著 在同樣/component 的資料夾裡 再多放一個 stories.js.ejs.t<br>\n這個就是會做一個 storybook 檔案 在旁邊<br>\n附上我的範例</p>\n<pre class=\"grvsc-container abyss\" data-language=\"js\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">---</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">to: </span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> absPath </span><span class=\"mtk7\">%&gt;</span><span class=\"mtk11\">/&lt;%= name %&gt;/</span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> name </span><span class=\"mtk7\">%&gt;</span><span class=\"mtk1\">.stories.tsx</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">---</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> </span><span class=\"mtk4\">*</span><span class=\"mtk1\"> </span><span class=\"mtk7\">as</span><span class=\"mtk1\"> React </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&quot;react&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> &lt;%= name %&gt; </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&quot;./&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> { Meta, Story } </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk11\">&quot;@storybook/react&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk7\">default</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  title: </span><span class=\"mtk11\">&quot;Example/&lt;%= !path ? &#39;components&#39; : &#39;pages&#39; %&gt;/&lt;%= name %&gt;&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  component: </span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> name </span><span class=\"mtk7\">%&gt;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">} </span><span class=\"mtk7\">as</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">Meta</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15 mtki\">const</span><span class=\"mtk1\"> </span><span class=\"mtk6\">Template</span><span class=\"mtk7\">:</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">Story</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> (</span><span class=\"mtk19 mtki\">args</span><span class=\"mtk1\">) </span><span class=\"mtk15 mtki\">=&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">&lt;&lt;%=</span><span class=\"mtk1\"> name </span><span class=\"mtk7\">%&gt;</span><span class=\"mtk1\"> {</span><span class=\"mtk7\">...</span><span class=\"mtk1\">args} </span><span class=\"mtk7\">/&gt;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtki\">const</span><span class=\"mtk1\"> Primary </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> Template.</span><span class=\"mtk6\">bind</span><span class=\"mtk1\">({});</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Primary.args </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> {};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span></code></pre>\n<p>現在就可以使用指令來產生檔案了～～～～<br>\n就是用我上面提到的 npx 指令\n<code>npx hygen new component --name Component</code><br>\n就是叫 hygen 去 new 這個資料夾底下的 component 底下找 index 去執行產元件<br>\ncmd 會問你要不要加上 path ？<br>\n如果沒有填任何東西的話 就會在設定好的 absPath 也就是 src/components 底下直接放一個資料夾 叫做 Component(你取的 name)<br>\n裡面會有一個 index.tsx 檔案 跟一個 stories.tsx 檔案<br>\n學會自己寫設定檔之後 元件就可以想怎麼產了～～～</p>\n<p>以上是今天的分享 👋</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .abyss { background-color: #000c18; }\n  .abyss .mtku {\n    text-decoration: underline;\n    text-underline-position: under;\n  }\n  .abyss .mtki { font-style: italic; }\n  .abyss .mtk3 { color: #384887; }\n  .abyss .mtk15 { color: #9966B8; }\n  .abyss .mtk1 { color: #6688CC; }\n  .abyss .mtk7 { color: #225588; }\n  .abyss .mtk11 { color: #22AA44; }\n  .abyss .mtk6 { color: #DDBB88; }\n  .abyss .mtk19 { color: #2277FF; }\n  .abyss .mtk4 { color: #F280D0; }\n  .abyss .mtk5 { color: #FFEEBB; }\n  .abyss .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"date":"September 21, 2022","path":"/blog/from-hexo-to-gatsby-7","title":"Gatsby用起來_好用的工具","type":"blog","image_cover":"https://images.unsplash.com/photo-1597484661643-2f5fef640dd1?fit=crop&w=1000&q=80"}}},"pageContext":{"id":"58b118b0-cce8-586a-be7d-87d5d6e344d6","frontmatter__path":"/blog/from-hexo-to-gatsby-7","__params":{"frontmatter__path":"blog"}}},"staticQueryHashes":["3764592887"]}