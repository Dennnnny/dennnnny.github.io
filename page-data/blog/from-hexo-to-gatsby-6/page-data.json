{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-path-js","path":"/blog/from-hexo-to-gatsby-6/","result":{"data":{"markdownRemark":{"html":"<h1>是時候把部落格發布出去了</h1>\n<p>發布嘛～<br>\n好像沒很難ＸＤ<br>\n現在也有很多平台提供發佈功能<br>\n例如 netlify、heroku 之類的<br>\n這次我選的是 github-pages<br>\n在官網裡也有詳細的說明<br>\n<a href=\"https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/how-gatsby-works-with-github-pages/\">how-gatsby-works-with-github-pages</a><br>\n基本上就照著說明做<br>\n也能做個大概出來ＸＤ</p>\n<p>需要安裝套件 gh-pages<br>\n<code>npm install gh-pages --save-dev</code><br>\n然後把專案指向 github 上的 repo<br>\n<code>git remote add origin htpps://github.xxxxxxxxxxx</code><br>\n最後 部署就是跑指令<br>\n<code>npm run deploy</code>\n這個指令是要自己建立在 package.json 裡面的</p>\n<pre class=\"grvsc-container abyss\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// 在package.json 裡的scripts 多加一行</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">scripts: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">//... some scripts</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">&quot;deploy&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk11\">&quot;gatsby build &amp;&amp; gh-pages -d public -b main&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>這行指令會執行 build 後用 gh-pages 套件把網站放到 main 這個分支\n確保在 github 裡的這個 repo 中的設定<br>\n是把 github-pages 分支設定成 main<br>\n你要改成 master 也行，記得 script 裡也要改成一樣的就行</p>\n<p>最後應該就沒問題了唷 ～～</p>\n<hr>\n<h3>Support for password authentication was removed on August 13, 2021</h3>\n<p>補充一個我遇到的問題 ＱＱ<br>\n就是 github 的密碼認證已經不能用之類的<br>\n現在改採用 token 認證的方式</p>\n<p>所以要改用 token 呈現的 github-url 來上傳 gh-pages</p>\n<p>首先進到 github 首頁 > <strong>到個人頁面設定 Setting</strong> > 選擇 <strong>Developer settings</strong> > <strong>personal access token</strong> > 按右上角的 <strong>generate new token</strong> > 接著把產生出來的 token 記下來</p>\n<p>到 cmd 裡 重下個指令\n<code>git remote set-url origin https://&#x3C;TOKEN>@github.com/.....</code><br>\n接著應該就可以正常的部署了</p>\n<p>以上是今天的分享 👋</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .abyss { background-color: #000c18; }\n  .abyss .mtk3 { color: #384887; }\n  .abyss .mtk1 { color: #6688CC; }\n  .abyss .mtk11 { color: #22AA44; }\n  .abyss .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"date":"September 20, 2022","path":"/blog/from-hexo-to-gatsby-6","title":"Gatsby用起來_發布到github","type":"blog","image_cover":"https://images.unsplash.com/photo-1614728263952-84ea256f9679?fit=crop&w=1000&q=80"}}},"pageContext":{"id":"784ee36f-65ab-5f07-96d9-c13acccd7fa5","frontmatter__path":"/blog/from-hexo-to-gatsby-6","__params":{"frontmatter__path":"blog"}}},"staticQueryHashes":["3764592887"]}